{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "AI Reasoning Event",
    "type": "object",
    "properties": {
        "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the event."
        },
        "sessionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the session this event belongs to."
        },
        "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp of when the event occurred."
        },
        "type": {
            "type": "string",
            "enum": [
                "user_prompt",
                "model_thought",
                "model_response",
                "tool_call",
                "tool_result",
                "system_log"
            ],
            "description": "The type of event."
        },
        "model": {
            "type": "string",
            "description": "Name of the AI model involved (if applicable)."
        },
        "content": {
            "type": "string",
            "description": "The main text content of the event (prompt, response, thought)."
        },
        "metadata": {
            "type": "object",
            "description": "Additional context or metadata.",
            "properties": {
                "tokens": {
                    "type": "integer",
                    "description": "Token count for this event."
                },
                "latencyMs": {
                    "type": "integer",
                    "description": "Time taken for this generation in milliseconds."
                },
                "filePath": {
                    "type": "string",
                    "description": "Related file path in the workspace."
                }
            }
        },
        "toolData": {
            "type": "object",
            "description": "Specific data for tool calls and results.",
            "properties": {
                "name": {
                    "type": "string"
                },
                "arguments": {
                    "type": "object"
                },
                "output": {
                    "type": "string"
                }
            }
        }
    },
    "required": [
        "id",
        "sessionId",
        "timestamp",
        "type",
        "content"
    ]
}